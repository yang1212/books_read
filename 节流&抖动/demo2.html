<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>节流</title>
</head>
<body>
<div id="app" style="height:600px">
    
</div>

<script>
    window.onload = function() {
       function testFn() {
           console.log('触发')
       }
       function commonFn(value) {
           let time = null
           return function() {
               if (!time) {
                    time = setTimeout(() => {
                        testFn()
                        time = null;
                    }, value);
               }
                
           }
       }
       window.addEventListener('scroll', commonFn(2000))
    }
</script>
</body>
</html>

<!-- 参与者： 需要运行的方法， 封装好节流方法， 触发事件 -->

<!-- 保存每次触发的时间值: 当time 为null时，触发setTimeout,结束时再将time设置为null -->